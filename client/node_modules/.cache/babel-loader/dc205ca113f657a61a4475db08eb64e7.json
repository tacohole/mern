{"ast":null,"code":"import _classCallCheck from\"/home/troyc/git/mern/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/troyc/git/mern/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/troyc/git/mern/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/troyc/git/mern/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/troyc/git/mern/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import axios from\"axios\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Record=function Record(props){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:props.record.person_name}),/*#__PURE__*/_jsx(\"td\",{children:props.record.person_level}),/*#__PURE__*/_jsx(\"td\",{children:props.record.person_position}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/edit/\"+props.record._id,children:\"Edit\"}),\" |\",/*#__PURE__*/_jsx(\"a\",{href:\"/\",onClick:function onClick(){props.deleteRecord(props.record._id);},children:\"Delete\"})]})]});};var RecordList=/*#__PURE__*/function(_Component){_inherits(RecordList,_Component);var _super=_createSuper(RecordList);function RecordList(props){var _this;_classCallCheck(this,RecordList);_this=_super.call(this,props);_this.deleteRecord=_this.deleteRecord.bind(_assertThisInitialized(_this));_this.state={records:[]};return _this;}_createClass(RecordList,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get(\"http://localhost:5000/record/\").then(function(response){_this2.setState({records:response.data});}).catch(function(error){console.log(error);});}},{key:\"deleteRecord\",value:function deleteRecord(id){axios.delete(\"http://localhost:5000/\"+id).then(function(response){console.log(response.data);});this.setState({record:this.state.records.filter(function(el){return el._id!==id;})});}},{key:\"recordList\",value:function recordList(){var _this3=this;return this.state.records.map(function(currentrecord){return/*#__PURE__*/_jsx(Record,{record:currentrecord,deleteRecord:_this3.deleteRecord},currentrecord._id);});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Record List\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped\",style:{marginTop:20},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Position\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Level\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:this.recordList()})]})]});}}]);return RecordList;}(Component);export{RecordList as default};","map":{"version":3,"sources":["/home/troyc/git/mern/client/src/components/recordList.js"],"names":["React","Component","axios","Link","Record","props","record","person_name","person_level","person_position","_id","deleteRecord","RecordList","bind","state","records","get","then","response","setState","data","catch","error","console","log","id","delete","filter","el","map","currentrecord","marginTop","recordList"],"mappings":"0tBAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,KAAqB,kBAArB,C,wFAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,KAAD,qBACX,mCACI,oBAAKA,KAAK,CAACC,MAAN,CAAaC,WAAlB,EADJ,cAEI,oBAAKF,KAAK,CAACC,MAAN,CAAaE,YAAlB,EAFJ,cAGI,oBAAKH,KAAK,CAACC,MAAN,CAAaG,eAAlB,EAHJ,cAII,mCACI,KAAC,IAAD,EAAM,EAAE,CAAE,SAAWJ,KAAK,CAACC,MAAN,CAAaI,GAAlC,kBADJ,mBAEI,UAAG,IAAI,CAAC,GAAR,CAAY,OAAO,CAAE,kBAAM,CAACL,KAAK,CAACM,YAAN,CAAmBN,KAAK,CAACC,MAAN,CAAaI,GAAhC,EAAsC,CAAlE,oBAFJ,GAJJ,GADW,EAAf,C,GAYqBE,CAAAA,U,wGACjB,oBAAYP,KAAZ,CAAmB,4CACf,uBAAMA,KAAN,EACA,MAAKM,YAAL,CAAoB,MAAKA,YAAL,CAAkBE,IAAlB,+BAApB,CACA,MAAKC,KAAL,CAAa,CAACC,OAAO,CAAE,EAAV,CAAb,CAHe,aAIlB,C,wDAED,4BAAoB,iBAChBb,KAAK,CACAc,GADL,CACS,+BADT,EAEKC,IAFL,CAEU,SAACC,QAAD,CAAc,CAChB,MAAI,CAACC,QAAL,CAAc,CAACJ,OAAO,CAAEG,QAAQ,CAACE,IAAnB,CAAd,EACH,CAJL,EAKKC,KALL,CAKW,SAASC,KAAT,CAAgB,CACnBC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACH,CAPL,EAQH,C,4BAED,sBAAaG,EAAb,CAAiB,CACbvB,KAAK,CAACwB,MAAN,CAAa,yBAA2BD,EAAxC,EAA4CR,IAA5C,CAAiD,SAACC,QAAD,CAAc,CAC3DK,OAAO,CAACC,GAAR,CAAYN,QAAQ,CAACE,IAArB,EACH,CAFD,EAGA,KAAKD,QAAL,CAAc,CAACb,MAAM,CAAE,KAAKQ,KAAL,CAAWC,OAAX,CAAmBY,MAAnB,CAA0B,SAACC,EAAD,QAAQA,CAAAA,EAAE,CAAClB,GAAH,GAAWe,EAAnB,EAA1B,CAAT,CAAd,EAEH,C,0BAED,qBAAa,iBACT,MAAO,MAAKX,KAAL,CAAWC,OAAX,CAAmBc,GAAnB,CAAuB,SAACC,aAAD,CAAmB,CAC7C,mBACI,KAAC,MAAD,EAAQ,MAAM,CAAEA,aAAhB,CAA+B,YAAY,CAAE,MAAI,CAACnB,YAAlD,EAAqEmB,aAAa,CAACpB,GAAnF,CADJ,CAGH,CAJM,CAAP,CAKH,C,sBAED,iBAAS,CACL,mBACI,oCACI,mCADJ,cAEI,eAAO,SAAS,CAAC,qBAAjB,CAAuC,KAAK,CAAE,CAAEqB,SAAS,CAAC,EAAZ,CAA9C,wBACI,oCACI,mCACA,4BADA,cAEA,gCAFA,cAGA,6BAHA,cAIA,8BAJA,GADJ,EADJ,cASI,uBAAQ,KAAKC,UAAL,EAAR,EATJ,GAFJ,GADJ,CAgBH,C,wBAnDmC/B,S,SAAnBW,U","sourcesContent":["import React, {Component} from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\n\nconst Record = (props) => (\n    <tr>\n        <td>{props.record.person_name}</td>\n        <td>{props.record.person_level}</td>\n        <td>{props.record.person_position}</td>\n        <td>\n            <Link to={\"/edit/\" + props.record._id}>Edit</Link> |\n            <a href=\"/\" onClick={() => {props.deleteRecord(props.record._id);}}>Delete</a>\n        </td>      \n    </tr>\n);\n\nexport default class RecordList extends Component {\n    constructor(props) {\n        super(props);\n        this.deleteRecord = this.deleteRecord.bind(this);\n        this.state = {records: [] }\n    }\n\n    componentDidMount() {\n        axios\n            .get(\"http://localhost:5000/record/\")\n            .then((response) => {\n                this.setState({records: response.data});\n            })\n            .catch(function(error) {\n                console.log(error);\n            })\n    }\n\n    deleteRecord(id) {\n        axios.delete(\"http://localhost:5000/\" + id).then((response) => {\n            console.log(response.data);\n        });\n        this.setState({record: this.state.records.filter((el) => el._id !== id),\n        });\n    }\n\n    recordList() {\n        return this.state.records.map((currentrecord) => {\n            return (\n                <Record record={currentrecord} deleteRecord={this.deleteRecord} key={currentrecord._id}/>\n            );\n        });\n    }\n\n    render() {\n        return(\n            <div>\n                <h3>Record List</h3>\n                <table className=\"table table-striped\" style={{ marginTop:20}}>\n                    <thead>\n                        <tr>\n                        <th>Name</th>\n                        <th>Position</th>\n                        <th>Level</th>\n                        <th>Action</th>\n                        </tr>\n                    </thead>\n                    <tbody>{this.recordList()}</tbody>\n                </table>\n            </div>\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}